#!/bin/bash
#
# Executed by startx (run your window manager from here)

# activate custom kbd mapping
setxkbmap -option caps:ctrl_modifier

# use xonsh as desktop env shell
xonsh="$(which xonsh)"
export SHELL="${xonsh:-SHELL}"

# launch with wm of choice
cd
case "$2" in
    gnome)
        exec gnome-session;;
    *)
        systemctl --user import-environment DISPLAY XAUTHORITY
        dcus-update-activation-environment --all
        exec ${2:-i3};;
esac
